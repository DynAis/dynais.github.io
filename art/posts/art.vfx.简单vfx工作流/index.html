<!doctype html><html lang=art dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>简单VFX工作流 | Art</title><meta name=keywords content="VFX,ACES"><meta name=description content="自己摸索出来的简单VFX所需要的全部流程. 基于ACES工作流. 以一个小项目作为案例讲解."><meta name=author content><link rel=canonical href=https://dynais.github.io/art/posts/art.vfx.%E7%AE%80%E5%8D%95vfx%E5%B7%A5%E4%BD%9C%E6%B5%81/><link crossorigin=anonymous href=/assets/css/stylesheet.min.83000284db6b39ffdb8fd56edee1ed2b7e23dd7e7a59589dfc9bb530ebbdb2bc.css integrity="sha256-gwAChNtrOf/bj9Vu3uHtK34j3X56WVid/Ju1MOu9srw=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.2840b7fccd34145847db71a290569594bdbdb00047097f75d6495d162f5d7dff.js integrity="sha256-KEC3/M00FFhH23GikFaVlL29sABHCX911kldFi9dff8=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://dynais.github.io/icon/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://dynais.github.io/icon/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://dynais.github.io/icon/favicon-32x32.png><link rel=apple-touch-icon href=https://dynais.github.io/icon/apple-touch-icon.png><link rel=mask-icon href=https://dynais.github.io/icon/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=art href=https://dynais.github.io/art/posts/art.vfx.%E7%AE%80%E5%8D%95vfx%E5%B7%A5%E4%BD%9C%E6%B5%81/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css integrity=sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js integrity=sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4 crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js integrity=sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa crossorigin=anonymous onload=renderMathInElement(document.body)></script>
<script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})})</script><meta property="og:title" content="简单VFX工作流"><meta property="og:description" content="自己摸索出来的简单VFX所需要的全部流程. 基于ACES工作流. 以一个小项目作为案例讲解."><meta property="og:type" content="article"><meta property="og:url" content="https://dynais.github.io/art/posts/art.vfx.%E7%AE%80%E5%8D%95vfx%E5%B7%A5%E4%BD%9C%E6%B5%81/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-04-17T00:00:00+00:00"><meta property="article:modified_time" content="2022-04-17T00:00:00+00:00"><meta property="og:site_name" content="Art"><meta name=twitter:card content="summary"><meta name=twitter:title content="简单VFX工作流"><meta name=twitter:description content="自己摸索出来的简单VFX所需要的全部流程. 基于ACES工作流. 以一个小项目作为案例讲解."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://dynais.github.io/art/posts/"},{"@type":"ListItem","position":2,"name":"简单VFX工作流","item":"https://dynais.github.io/art/posts/art.vfx.%E7%AE%80%E5%8D%95vfx%E5%B7%A5%E4%BD%9C%E6%B5%81/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"简单VFX工作流","name":"简单VFX工作流","description":"自己摸索出来的简单VFX所需要的全部流程. 基于ACES工作流. 以一个小项目作为案例讲解.\n","keywords":["VFX","ACES"],"articleBody":"自己摸索出来的简单VFX所需要的全部流程. 基于ACES工作流. 以一个小项目作为案例讲解.\n SAMPLE(befor VS after):\n前置知识  了解ACES Blender 达芬奇 合成  1 前期 1.1 规划选题 在前期规划中, 建议对制作的难度有一个大概的预估. 环境光的复杂程度, 前后的遮挡关系, 相机的移动程度, 模型的复杂程度, 特效的制作难度这些都需要有一个大概的预估, 如果没有做好选题贸然拍摄, 很有可能就会因为技术不够或者环境太难匹配造成结果不真实甚至只能半途而废.\n1.2 正式拍摄 1.2.1 HDRI HDRI全景图在渲染结果的真实度提升上非常有帮助, 最理想的情况下就是借助360度的相机记录环境光的信息, 比如最常见的insta360.\n如果没有360度相机, 无法记录现场的环境光信息, 那么在前期的规划中就应该已经料想到这一点并且避免光照过于复杂的场景. 而应该选择光源相对单一且常见的场景, 比如开阔的空地.\n在示例项目中我只使用了手机进行拍摄, 所以选择了阴天的草地这种简单的场景, 这样使用网上众多的开源HDRI也可以实现相似的效果从而避免不真实的渲染.\n1.2.2 环境模型 间接光是增加渲染真实度的重要元素之一, 在这方面除了HDRI给出的光信息之外, 一个现场环境的大致模型也是相对必要的. 手工建模当然是一种方法, 但是为了节省时间可以选择通过3维扫描的方式快速还原现场的大致样貌. 这方面使用新款 IPhone 或者 IPad 的 LiDAR 最方便, 也可以选择使用相机拍摄后通过 Mashroom 合成.\n1.2.3 拍摄手法 考虑到后期的追踪精度问题, 对于拍摄手法的选择也是有必要的, 一般来说, 越稳定的拍摄手法以及越少的视角移动肯定是会大大降低后期的难度的.\n除此之外, 最好应该人为设定曝光和白平衡保持不变, 不然非常不利于后期进行处理.\n1.2.4 坐标平面参考与色彩校准 如果是静帧合成, 也就是只有一张图片的话, 在前期拍摄的时候多拍一张用于相机求反的照片也是很好地选择, 特别是在照片本身缺少坐标参考的情况下. 这里指的就是通过人为的方法创造一些能够进行XY平面参考的直线对象, 方便后期进行XY平面的对齐.\n以这次的实例工程为例, 由于我前期缺乏考虑, 拍摄的地面又非常空旷没有人造物参考, 造成我在进行相机求反的时候很难校准, 增添了很多不必要的工作量.\n此外, 如果有条件最好可以同时进行色彩和白平衡的校准. 当然由于经费的问题指定是不太可能的了.\n1.2.5 录制设置 由于这次使用的是ACES流程, 在后期时需要进行一个IDT转换, 所以录像设置也关系到转换效果的好坏. 最理想的情况下应该进行 RAW 格式或者 log 格式的记录, 比如 Sony Raw 或者 Slog. 这样可以的到最好的转换效果, 设备不支持的话则只能进行有损失的转换.\n此外, 也应该注意录制时帧率的统一, 24帧是比较合理的选择, 毕竟后期渲染起来更省力.\n一切准备完之后就可以进行正式的拍摄了.\n2 后期 2.1 建立ACES工作流 2.1.1 在达芬奇中转换片段到ACES 在项目设置中的色彩管理处设置色彩科学为 ACEScc, 输入设备转换设置为相应的 RAW 或者 log 格式, 不支持 RAW 等格式的机器(比如手机)则选择 sRGB, 输出设备转换为sRGB.\n之后就可以进行视频片段的初次白平衡, 曝光以及色彩校准. 这一次校准的目的是为了还原现场场景而非添加色调.\n在交付面板中, 更改输出格式如下, 注意一定需要选取 EXR 格式.\n校准完毕后, 输出之前需要重新更改输出设备转换为无, 不然输出的画面会是 sRGB 的色彩空间\n2.1.2 在Blender中建立ACES环境 在目前的版本中 Blender 并没有自带 ACES OCIO, 需要下载 ACES 的分支版本或者手动进行安装. 安装完成后就可以在渲染设置中选择 ACES 色彩空间. 此外, 序列编辑器的色彩空间也应该改为 ACEScg.\n使输出设置与视频片段应该保持一致.\n输出选项中设置输出文件格式为OpenEXR MultiLayer.\n确保渲染引擎使用Cycles.\n打开渲染设置中胶片选项的透明，使输出结果的背景保持透明, 方便后期合成.\n另外很重要的一点就是应该对不同的主体区分不同的集合, 如这次的地面与主体就分别为两个集合, 这样在集合设置中就可以针对不同的集合开启排除选项, 使得物体阴影单独渲染. 一般分物体和地面两个集合即可.\n创建两层图层, obj 和 shadow, 分层单独渲染物体和影子.\n选中 obj 图层后, 对地面集合开启进间接选项以排除地面, 但会保留间接光的影响.\n切换为 shadow 图层对 obj 集合进行同样的操作, 除此之外记得开启地面的阴影捕捉选项, 让地面只渲染阴影.\n2.2 静帧3D特效 2.2.1 使用fSpy相机求反 处理完之后通过插件导入Blender\n2.3 视频片段3D特效 2.3.1 运动解算 这部分参考 CG Geek 的这个视频\n   https://www.youtube.com/watch?v=-BYH5pDYakk\n2.4 输出与合成 2.4.1 分层输出 在匹配完场景后输出选项内开启这些比较常用的通道, 方便后期合成, 追求更高精度的话甚至可以开启Cryptomatte, 就可以选取甚至包含景深的物体了, 但是因为是简单模式这部分就不接触了.\n2.4.2 合成与后期 这里只放一张演示项目的 Compositing 面板节点, 直接在 Blender 内处理最方便, 也可以选择 Nuke 等专业软件.\n3 DLC 使用IPAD直接对影片进行摄像机追踪, 不需要相机求反了!\n也可以用这个来做真实的相机移动\nhttps://www.youtube.com/watch?v=qgWMjCgPywo   参考  https://www.youtube.com/watch?v=aJF2sAjRsy0 https://www.youtube.com/watch?v=-BYH5pDYakk ","wordCount":"221","inLanguage":"art","datePublished":"2022-04-17T00:00:00Z","dateModified":"2022-04-17T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://dynais.github.io/art/posts/art.vfx.%E7%AE%80%E5%8D%95vfx%E5%B7%A5%E4%BD%9C%E6%B5%81/"},"publisher":{"@type":"Organization","name":"Art","logo":{"@type":"ImageObject","url":"https://dynais.github.io/icon/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://dynais.github.io/art/ accesskey=h title="Art (Alt + H)">Art</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://dynais.xyz title=Home class=lang-switch>Home</a></li></ul></span></div><ul id=menu><li><a href=https://dynais.github.io/art/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://dynais.github.io/art/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>简单VFX工作流</h1><div class=post-meta><span title="2022-04-17 00:00:00 +0000 UTC">April 17, 2022</span>&nbsp;·&nbsp;2 min</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e5%89%8d%e7%bd%ae%e7%9f%a5%e8%af%86 aria-label=前置知识>前置知识</a></li><li><a href=#1-%e5%89%8d%e6%9c%9f aria-label="1 前期">1 前期</a><ul><li><a href=#11-%e8%a7%84%e5%88%92%e9%80%89%e9%a2%98 aria-label="1.1 规划选题">1.1 规划选题</a></li><li><a href=#12-%e6%ad%a3%e5%bc%8f%e6%8b%8d%e6%91%84 aria-label="1.2 正式拍摄">1.2 正式拍摄</a><ul><li><a href=#121-hdri aria-label="1.2.1 HDRI">1.2.1 HDRI</a></li><li><a href=#122-%e7%8e%af%e5%a2%83%e6%a8%a1%e5%9e%8b aria-label="1.2.2 环境模型">1.2.2 环境模型</a></li><li><a href=#123-%e6%8b%8d%e6%91%84%e6%89%8b%e6%b3%95 aria-label="1.2.3 拍摄手法">1.2.3 拍摄手法</a></li><li><a href=#124-%e5%9d%90%e6%a0%87%e5%b9%b3%e9%9d%a2%e5%8f%82%e8%80%83%e4%b8%8e%e8%89%b2%e5%bd%a9%e6%a0%a1%e5%87%86 aria-label="1.2.4 坐标平面参考与色彩校准">1.2.4 坐标平面参考与色彩校准</a></li><li><a href=#125-%e5%bd%95%e5%88%b6%e8%ae%be%e7%bd%ae aria-label="1.2.5 录制设置">1.2.5 录制设置</a></li></ul></li></ul></li><li><a href=#2-%e5%90%8e%e6%9c%9f aria-label="2 后期">2 后期</a><ul><li><a href=#21-%e5%bb%ba%e7%ab%8baces%e5%b7%a5%e4%bd%9c%e6%b5%81 aria-label="2.1 建立ACES工作流">2.1 建立ACES工作流</a><ul><li><a href=#211-%e5%9c%a8%e8%be%be%e8%8a%ac%e5%a5%87%e4%b8%ad%e8%bd%ac%e6%8d%a2%e7%89%87%e6%ae%b5%e5%88%b0aces aria-label="2.1.1 在达芬奇中转换片段到ACES">2.1.1 在达芬奇中转换片段到ACES</a></li><li><a href=#212-%e5%9c%a8blender%e4%b8%ad%e5%bb%ba%e7%ab%8baces%e7%8e%af%e5%a2%83 aria-label="2.1.2 在Blender中建立ACES环境">2.1.2 在Blender中建立ACES环境</a></li></ul></li><li><a href=#22-%e9%9d%99%e5%b8%a73d%e7%89%b9%e6%95%88 aria-label="2.2 静帧3D特效">2.2 静帧3D特效</a><ul><li><a href=#221-%e4%bd%bf%e7%94%a8fspy%e7%9b%b8%e6%9c%ba%e6%b1%82%e5%8f%8d aria-label="2.2.1 使用fSpy相机求反">2.2.1 使用fSpy相机求反</a></li></ul></li><li><a href=#23-%e8%a7%86%e9%a2%91%e7%89%87%e6%ae%b53d%e7%89%b9%e6%95%88 aria-label="2.3 视频片段3D特效">2.3 视频片段3D特效</a><ul><li><a href=#231-%e8%bf%90%e5%8a%a8%e8%a7%a3%e7%ae%97 aria-label="2.3.1 运动解算">2.3.1 运动解算</a></li></ul></li><li><a href=#24-%e8%be%93%e5%87%ba%e4%b8%8e%e5%90%88%e6%88%90 aria-label="2.4 输出与合成">2.4 输出与合成</a><ul><li><a href=#241-%e5%88%86%e5%b1%82%e8%be%93%e5%87%ba aria-label="2.4.1 分层输出">2.4.1 分层输出</a></li><li><a href=#242-%e5%90%88%e6%88%90%e4%b8%8e%e5%90%8e%e6%9c%9f aria-label="2.4.2 合成与后期">2.4.2 合成与后期</a></li></ul></li></ul></li><li><a href=#3-dlc aria-label="3 DLC">3 DLC</a></li><li><a href=#%e5%8f%82%e8%80%83 aria-label=参考>参考</a></li></ul></div></details></div><div class=post-content><p>自己摸索出来的简单VFX所需要的全部流程. 基于ACES工作流. 以一个小项目作为案例讲解.</p><hr><p><strong>SAMPLE(befor VS after):</strong></p><p><img loading=lazy src=https://dynais-imh-hub.oss-cn-hangzhou.aliyuncs.com/img/moon_src.png#center alt=befor></p><p><img loading=lazy src=https://dynais-imh-hub.oss-cn-hangzhou.aliyuncs.com/img/moon.png#center alt=after></p><h2 id=前置知识>前置知识<a hidden class=anchor aria-hidden=true href=#前置知识>#</a></h2><ul><li>了解ACES</li><li>Blender</li><li>达芬奇</li><li>合成</li></ul><h2 id=1-前期>1 前期<a hidden class=anchor aria-hidden=true href=#1-前期>#</a></h2><h3 id=11-规划选题>1.1 规划选题<a hidden class=anchor aria-hidden=true href=#11-规划选题>#</a></h3><p>在前期规划中, 建议对制作的难度有一个大概的预估. <strong>环境光的复杂程度</strong>, <strong>前后的遮挡关系</strong>, <strong>相机的移动程度</strong>, <strong>模型的复杂程度</strong>, <strong>特效的制作难度</strong>这些都需要有一个大概的预估, 如果没有做好选题贸然拍摄, 很有可能就会因为技术不够或者环境太难匹配造成结果不真实甚至只能半途而废.</p><h3 id=12-正式拍摄>1.2 正式拍摄<a hidden class=anchor aria-hidden=true href=#12-正式拍摄>#</a></h3><h4 id=121-hdri>1.2.1 HDRI<a hidden class=anchor aria-hidden=true href=#121-hdri>#</a></h4><p><strong>HDRI全景图</strong>在渲染结果的真实度提升上非常有帮助, 最理想的情况下就是借助360度的相机记录环境光的信息, 比如最常见的insta360.</p><p>如果没有360度相机, 无法记录现场的环境光信息, 那么在前期的规划中就应该已经料想到这一点并且<strong>避免光照过于复杂的场景</strong>. 而应该选择<strong>光源相对单一且常见的场景</strong>, 比如开阔的空地.</p><p>在示例项目中我只使用了手机进行拍摄, 所以选择了阴天的草地这种简单的场景, 这样使用网上众多的开源HDRI也可以实现相似的效果从而避免不真实的渲染.</p><h4 id=122-环境模型>1.2.2 环境模型<a hidden class=anchor aria-hidden=true href=#122-环境模型>#</a></h4><p><strong>间接光</strong>是增加渲染真实度的重要元素之一, 在这方面除了HDRI给出的光信息之外, 一个<strong>现场环境的大致模型</strong>也是相对必要的. 手工建模当然是一种方法, 但是为了节省时间可以选择通过3维扫描的方式快速还原现场的大致样貌. 这方面使用新款 IPhone 或者 IPad 的 LiDAR 最方便, 也可以选择使用相机拍摄后通过 Mashroom 合成.</p><h4 id=123-拍摄手法>1.2.3 拍摄手法<a hidden class=anchor aria-hidden=true href=#123-拍摄手法>#</a></h4><p>考虑到后期的追踪精度问题, 对于拍摄手法的选择也是有必要的, 一般来说, <strong>越稳定的拍摄手法</strong>以及<strong>越少的视角移动</strong>肯定是会大大降低后期的难度的.</p><p>除此之外, 最好应该人为设定<strong>曝光和白平衡保持不变</strong>, 不然非常不利于后期进行处理.</p><h4 id=124-坐标平面参考与色彩校准>1.2.4 坐标平面参考与色彩校准<a hidden class=anchor aria-hidden=true href=#124-坐标平面参考与色彩校准>#</a></h4><p>如果是<strong>静帧合成</strong>, 也就是只有一张图片的话, 在前期拍摄的时候多拍一张用于相机求反的照片也是很好地选择, 特别是在照片本身缺少坐标参考的情况下. 这里指的就是<strong>通过人为的方法创造一些能够进行XY平面参考的直线对象</strong>, 方便后期进行XY平面的对齐.</p><p>以这次的实例工程为例, 由于我前期缺乏考虑, 拍摄的地面又非常空旷没有人造物参考, 造成我在进行相机求反的时候很难校准, 增添了很多不必要的工作量.</p><p>此外, 如果有条件最好可以同时进行色彩和白平衡的校准. 当然由于经费的问题指定是不太可能的了.</p><h4 id=125-录制设置>1.2.5 录制设置<a hidden class=anchor aria-hidden=true href=#125-录制设置>#</a></h4><p>由于这次使用的是ACES流程, 在后期时需要进行一个IDT转换, 所以录像设置也关系到转换效果的好坏. 最理想的情况下应该进行 <strong>RAW 格式</strong>或者 <strong>log 格式</strong>的记录, 比如 <strong>Sony Raw</strong> 或者 <strong>Slog</strong>. 这样可以的到最好的转换效果, 设备不支持的话则只能进行有损失的转换.</p><p>此外, 也应该注意录制时<strong>帧率的统一</strong>, <strong>24帧</strong>是比较合理的选择, 毕竟后期渲染起来更省力.</p><p>一切准备完之后就可以进行正式的拍摄了.</p><h2 id=2-后期>2 后期<a hidden class=anchor aria-hidden=true href=#2-后期>#</a></h2><h3 id=21-建立aces工作流>2.1 建立ACES工作流<a hidden class=anchor aria-hidden=true href=#21-建立aces工作流>#</a></h3><h4 id=211-在达芬奇中转换片段到aces>2.1.1 在达芬奇中转换片段到ACES<a hidden class=anchor aria-hidden=true href=#211-在达芬奇中转换片段到aces>#</a></h4><p>在项目设置中的色彩管理处<strong>设置色彩科学为 ACEScc</strong>, <strong>输入设备转换设置为相应的 RAW 或者 log 格式</strong>, 不支持 RAW 等格式的机器(比如手机)则选择 sRGB, <strong>输出设备转换为sRGB</strong>.</p><p><img loading=lazy src=https://dynais-imh-hub.oss-cn-hangzhou.aliyuncs.com/img/20210912221455.png#center alt=https://dynais-imh-hub.oss-cn-hangzhou.aliyuncs.com/img/20210912221455.png></p><p>之后就可以进行视频片段的<strong>初次白平衡, 曝光以及色彩校准</strong>. 这一次校准的目的<strong>是为了还原现场场景而非添加色调</strong>.</p><p>在交付面板中, 更改输出格式如下, 注意一定需要选取 <strong>EXR</strong> 格式.</p><p><img loading=lazy src=https://dynais-imh-hub.oss-cn-hangzhou.aliyuncs.com/img/20210912221730.png#center alt=https://dynais-imh-hub.oss-cn-hangzhou.aliyuncs.com/img/20210912221730.png></p><p>校准完毕后, 输出之前需要<strong>重新更改输出设备转换为无</strong>, 不然输出的画面会是 sRGB 的色彩空间</p><p><img loading=lazy src=https://dynais-imh-hub.oss-cn-hangzhou.aliyuncs.com/img/20210912221840.png#center alt=https://dynais-imh-hub.oss-cn-hangzhou.aliyuncs.com/img/20210912221840.png></p><h4 id=212-在blender中建立aces环境>2.1.2 在Blender中建立ACES环境<a hidden class=anchor aria-hidden=true href=#212-在blender中建立aces环境>#</a></h4><p>在目前的版本中 Blender 并没有自带 ACES OCIO, 需要下载 ACES 的分支版本或者手动进行安装. 安装完成后就可以在<strong>渲染设置中选择 ACES 色彩空间</strong>. 此外, 序列编辑器的色彩空间也应该改为 <strong>ACEScg</strong>.</p><p><img loading=lazy src=https://dynais-imh-hub.oss-cn-hangzhou.aliyuncs.com/img/20210912222146.png#center alt=https://dynais-imh-hub.oss-cn-hangzhou.aliyuncs.com/img/20210912222146.png></p><p><strong>使输出设置与视频片段应该保持一致</strong>.</p><p><img loading=lazy src=https://dynais-imh-hub.oss-cn-hangzhou.aliyuncs.com/img/20210912225751.png#center alt=https://dynais-imh-hub.oss-cn-hangzhou.aliyuncs.com/img/20210912225751.png></p><p>输出选项中设置输出文件格式为<strong>OpenEXR MultiLayer</strong>.</p><p><img loading=lazy src=https://dynais-imh-hub.oss-cn-hangzhou.aliyuncs.com/img/20210912225823.png#center alt=https://dynais-imh-hub.oss-cn-hangzhou.aliyuncs.com/img/20210912225823.png></p><p>确保渲染引擎使用<strong>Cycles</strong>.</p><p><img loading=lazy src=https://dynais-imh-hub.oss-cn-hangzhou.aliyuncs.com/img/20210912222051.png#center alt=https://dynais-imh-hub.oss-cn-hangzhou.aliyuncs.com/img/20210912222051.png></p><p><strong>打开渲染设置中胶片选项的透明</strong>，使输出结果的背景保持透明, 方便后期合成.</p><p><img loading=lazy src=https://dynais-imh-hub.oss-cn-hangzhou.aliyuncs.com/img/20210912222254.png#center alt=https://dynais-imh-hub.oss-cn-hangzhou.aliyuncs.com/img/20210912222254.png></p><p>另外很重要的一点就是应该<strong>对不同的主体区分不同的集合</strong>, 如这次的地面与主体就分别为两个集合, 这样在集合设置中就可以针对不同的集合开启排除选项, 使得物体阴影单独渲染. 一般分物体和地面两个集合即可.</p><p><img loading=lazy src=https://dynais-imh-hub.oss-cn-hangzhou.aliyuncs.com/img/20210912222457.png#center alt=https://dynais-imh-hub.oss-cn-hangzhou.aliyuncs.com/img/20210912222457.png></p><p><strong>创建两层图层, obj 和 shadow</strong>, 分层单独渲染物体和影子.</p><p><img loading=lazy src=https://dynais-imh-hub.oss-cn-hangzhou.aliyuncs.com/img/20210912222604.png#center alt=https://dynais-imh-hub.oss-cn-hangzhou.aliyuncs.com/img/20210912222604.png></p><p>选中 obj 图层后, <strong>对地面集合开启进间接选项</strong>以排除地面, 但会保留间接光的影响.</p><p><img loading=lazy src=https://dynais-imh-hub.oss-cn-hangzhou.aliyuncs.com/img/20210912222635.png#center alt=https://dynais-imh-hub.oss-cn-hangzhou.aliyuncs.com/img/20210912222635.png></p><p><strong>切换为 shadow 图层对 obj 集合进行同样的操作</strong>, 除此之外记得开启地面的<strong>阴影捕捉</strong>选项, 让地面只渲染阴影.</p><p><img loading=lazy src=https://dynais-imh-hub.oss-cn-hangzhou.aliyuncs.com/img/20210912222713.png#center alt=https://dynais-imh-hub.oss-cn-hangzhou.aliyuncs.com/img/20210912222713.png></p><p><img loading=lazy src=https://dynais-imh-hub.oss-cn-hangzhou.aliyuncs.com/img/20210912223416.png#center alt=https://dynais-imh-hub.oss-cn-hangzhou.aliyuncs.com/img/20210912223416.png></p><h3 id=22-静帧3d特效>2.2 静帧3D特效<a hidden class=anchor aria-hidden=true href=#22-静帧3d特效>#</a></h3><h4 id=221-使用fspy相机求反>2.2.1 使用fSpy相机求反<a hidden class=anchor aria-hidden=true href=#221-使用fspy相机求反>#</a></h4><p>处理完之后通过插件导入Blender</p><p><img loading=lazy src=https://dynais-imh-hub.oss-cn-hangzhou.aliyuncs.com/img/20210912225419.png#center alt=https://dynais-imh-hub.oss-cn-hangzhou.aliyuncs.com/img/20210912225419.png></p><h3 id=23-视频片段3d特效>2.3 视频片段3D特效<a hidden class=anchor aria-hidden=true href=#23-视频片段3d特效>#</a></h3><h4 id=231-运动解算>2.3.1 运动解算<a hidden class=anchor aria-hidden=true href=#231-运动解算>#</a></h4><p>这部分参考 CG Geek 的这个视频</p><p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/BYH5pDYakk style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><a href="https://www.youtube.com/watch?v=-BYH5pDYakk">https://www.youtube.com/watch?v=-BYH5pDYakk</a></p><h3 id=24-输出与合成>2.4 输出与合成<a hidden class=anchor aria-hidden=true href=#24-输出与合成>#</a></h3><h4 id=241-分层输出>2.4.1 分层输出<a hidden class=anchor aria-hidden=true href=#241-分层输出>#</a></h4><p>在匹配完场景后输出选项内开启这些比较常用的通道, 方便后期合成, 追求更高精度的话甚至可以开启Cryptomatte, 就可以选取甚至包含景深的物体了, 但是因为是简单模式这部分就不接触了.</p><p><img loading=lazy src=https://dynais-imh-hub.oss-cn-hangzhou.aliyuncs.com/img/20210912230008.png#center alt=https://dynais-imh-hub.oss-cn-hangzhou.aliyuncs.com/img/20210912230008.png></p><h4 id=242-合成与后期>2.4.2 合成与后期<a hidden class=anchor aria-hidden=true href=#242-合成与后期>#</a></h4><p>这里只放一张演示项目的 Compositing 面板节点, 直接在 Blender 内处理最方便, 也可以选择 Nuke 等专业软件.</p><p><img loading=lazy src=https://dynais-imh-hub.oss-cn-hangzhou.aliyuncs.com/img/20210912230217.png#center alt=https://dynais-imh-hub.oss-cn-hangzhou.aliyuncs.com/img/20210912230217.png></p><h2 id=3-dlc>3 DLC<a hidden class=anchor aria-hidden=true href=#3-dlc>#</a></h2><p>使用IPAD直接对影片进行摄像机追踪, 不需要相机求反了!</p><p>也可以用这个来做真实的相机移动</p><p><a href="https://www.youtube.com/watch?v=qgWMjCgPywo">https://www.youtube.com/watch?v=qgWMjCgPywo</a><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/qgWMjCgPywo style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div></p><h2 id=参考>参考<a hidden class=anchor aria-hidden=true href=#参考>#</a></h2><ol><li><a href="https://www.youtube.com/watch?v=aJF2sAjRsy0">https://www.youtube.com/watch?v=aJF2sAjRsy0</a></li><li><a href="https://www.youtube.com/watch?v=-BYH5pDYakk">https://www.youtube.com/watch?v=-BYH5pDYakk</a></li></ol></div><footer class=post-footer><ul class=post-tags><li><a href=https://dynais.github.io/art/tags/vfx/>VFX</a></li><li><a href=https://dynais.github.io/art/tags/aces/>ACES</a></li></ul><nav class=paginav><a class=prev href=https://dynais.github.io/art/posts/art.%E4%BD%BF%E7%94%A8arkit%E5%9C%A8%E7%BD%91%E9%A1%B5%E5%B5%8C%E5%85%A5usdz%E6%96%87%E4%BB%B6/><span class=title>« Prev Page</span><br><span>使用ARKIT在网页嵌入USDZ文件</span></a>
<a class=next href=https://dynais.github.io/art/posts/art.ps.%E7%BA%BF%E7%A8%BF%E6%8F%90%E5%8F%96/><span class=title>Next Page »</span><br><span>线稿提取</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share 简单VFX工作流 on twitter" href="https://twitter.com/intent/tweet/?text=%e7%ae%80%e5%8d%95VFX%e5%b7%a5%e4%bd%9c%e6%b5%81&url=https%3a%2f%2fdynais.github.io%2fart%2fposts%2fart.vfx.%25E7%25AE%2580%25E5%258D%2595vfx%25E5%25B7%25A5%25E4%25BD%259C%25E6%25B5%2581%2f&hashtags=VFX%2cACES"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 简单VFX工作流 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fdynais.github.io%2fart%2fposts%2fart.vfx.%25E7%25AE%2580%25E5%258D%2595vfx%25E5%25B7%25A5%25E4%25BD%259C%25E6%25B5%2581%2f&title=%e7%ae%80%e5%8d%95VFX%e5%b7%a5%e4%bd%9c%e6%b5%81&summary=%e7%ae%80%e5%8d%95VFX%e5%b7%a5%e4%bd%9c%e6%b5%81&source=https%3a%2f%2fdynais.github.io%2fart%2fposts%2fart.vfx.%25E7%25AE%2580%25E5%258D%2595vfx%25E5%25B7%25A5%25E4%25BD%259C%25E6%25B5%2581%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 简单VFX工作流 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fdynais.github.io%2fart%2fposts%2fart.vfx.%25E7%25AE%2580%25E5%258D%2595vfx%25E5%25B7%25A5%25E4%25BD%259C%25E6%25B5%2581%2f&title=%e7%ae%80%e5%8d%95VFX%e5%b7%a5%e4%bd%9c%e6%b5%81"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 简单VFX工作流 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fdynais.github.io%2fart%2fposts%2fart.vfx.%25E7%25AE%2580%25E5%258D%2595vfx%25E5%25B7%25A5%25E4%25BD%259C%25E6%25B5%2581%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 简单VFX工作流 on whatsapp" href="https://api.whatsapp.com/send?text=%e7%ae%80%e5%8d%95VFX%e5%b7%a5%e4%bd%9c%e6%b5%81%20-%20https%3a%2f%2fdynais.github.io%2fart%2fposts%2fart.vfx.%25E7%25AE%2580%25E5%258D%2595vfx%25E5%25B7%25A5%25E4%25BD%259C%25E6%25B5%2581%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 简单VFX工作流 on telegram" href="https://telegram.me/share/url?text=%e7%ae%80%e5%8d%95VFX%e5%b7%a5%e4%bd%9c%e6%b5%81&url=https%3a%2f%2fdynais.github.io%2fart%2fposts%2fart.vfx.%25E7%25AE%2580%25E5%258D%2595vfx%25E5%25B7%25A5%25E4%25BD%259C%25E6%25B5%2581%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>Copyrights © 2022 DynAis. All Rights Reserved.</span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span>
<span><a href=http://www.beian.miit.gov.cn/ target=_blank rel=noopener>浙ICP备20029043号</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(t=>{const n=t.parentNode.parentNode,e=document.createElement("button");e.classList.add("copy-code"),e.innerText="copy";function s(){e.innerText="copied!",setTimeout(()=>{e.innerText="copy"},2e3)}e.addEventListener("click",o=>{if("clipboard"in navigator){navigator.clipboard.writeText(t.textContent),s();return}const e=document.createRange();e.selectNodeContents(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(e);try{document.execCommand("copy"),s()}catch(e){}n.removeRange(e)}),n.classList.contains("highlight")?n.appendChild(e):n.parentNode.firstChild==n||(t.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?t.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(e):t.parentNode.appendChild(e))})</script></body></html>